# Define the compiler and the executable name
CC = mpicc
TARGET = bruteforce_alternative_2
SRC = bruteforce_alternative_2.c

# Default rule to compile the code
all: $(TARGET)

# Compile the mpi_hello.c file into an executable
$(TARGET): $(SRC)
	$(CC) -fopenmp -o $(TARGET) $(SRC)  -lssl -lcrypto

# Rule to run the executable with 4 processes
run: $(TARGET)
	mpirun --allow-run-as-root -np 4 ./$(TARGET) textoACifrar.txt 18014398509481990 "es una prueba de"

# Clean the directory by removing the compiled executable
clean:
	rm -f $(TARGET)

# Phony targets
.PHONY: all run clean